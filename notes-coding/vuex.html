<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Vuex入门 | 人生实验室</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="shortcut icon" href="/favicon.ico">
    <meta name="description" content="知识整理 + 生活记录 + 收藏夹">
    <link rel="preload" href="/assets/css/0.styles.974653c2.css" as="style"><link rel="preload" href="/assets/js/app.5e3b11e6.js" as="script"><link rel="preload" href="/assets/js/2.43ab06a8.js" as="script"><link rel="preload" href="/assets/js/31.e8668f66.js" as="script"><link rel="prefetch" href="/assets/js/10.28c679ee.js"><link rel="prefetch" href="/assets/js/11.4eb437c7.js"><link rel="prefetch" href="/assets/js/12.4d25fddb.js"><link rel="prefetch" href="/assets/js/13.781dbf04.js"><link rel="prefetch" href="/assets/js/14.3776569c.js"><link rel="prefetch" href="/assets/js/15.b9372a84.js"><link rel="prefetch" href="/assets/js/16.339a4d77.js"><link rel="prefetch" href="/assets/js/17.1cde9b31.js"><link rel="prefetch" href="/assets/js/18.61a5fde6.js"><link rel="prefetch" href="/assets/js/19.d0b1de31.js"><link rel="prefetch" href="/assets/js/20.ac6466ef.js"><link rel="prefetch" href="/assets/js/21.c6d87d2c.js"><link rel="prefetch" href="/assets/js/22.a6ef43e4.js"><link rel="prefetch" href="/assets/js/23.a5672476.js"><link rel="prefetch" href="/assets/js/24.d827e71d.js"><link rel="prefetch" href="/assets/js/25.93d2cf1e.js"><link rel="prefetch" href="/assets/js/26.918c5f67.js"><link rel="prefetch" href="/assets/js/27.a8e461f7.js"><link rel="prefetch" href="/assets/js/28.14b9c553.js"><link rel="prefetch" href="/assets/js/29.773b9d52.js"><link rel="prefetch" href="/assets/js/3.d3e0b824.js"><link rel="prefetch" href="/assets/js/30.e1602a19.js"><link rel="prefetch" href="/assets/js/32.11cc750e.js"><link rel="prefetch" href="/assets/js/33.93a12cb1.js"><link rel="prefetch" href="/assets/js/34.1ac4f9eb.js"><link rel="prefetch" href="/assets/js/35.5d15f019.js"><link rel="prefetch" href="/assets/js/36.69f2668b.js"><link rel="prefetch" href="/assets/js/37.191d41cc.js"><link rel="prefetch" href="/assets/js/4.f16be3ad.js"><link rel="prefetch" href="/assets/js/5.f6dc0ec7.js"><link rel="prefetch" href="/assets/js/6.19dc6a05.js"><link rel="prefetch" href="/assets/js/7.18f06a1a.js"><link rel="prefetch" href="/assets/js/8.1781416f.js"><link rel="prefetch" href="/assets/js/9.0386b132.js">
    <link rel="stylesheet" href="/assets/css/0.styles.974653c2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/logo.png" alt="人生实验室" class="logo"> <span class="site-name can-hide">人生实验室</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><span class="title">笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记" class="mobile-dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-coding/" class="nav-link router-link-active">
  代码
</a></li><li class="dropdown-item"><!----> <a href="/notes-painting/" class="nav-link">
  绘画
</a></li><li class="dropdown-item"><!----> <a href="/notes-others/" class="nav-link">
  其他
</a></li></ul></div></div><div class="nav-item"><a href="/dailylife/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="/markbook/" class="nav-link">
  收藏
</a></div><div class="nav-item"><a href="/todolist.html" class="nav-link">
  今日
</a></div><div class="nav-item"><a href="/about.html" class="nav-link">
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="笔记" class="dropdown-title"><span class="title">笔记</span> <span class="arrow down"></span></button> <button type="button" aria-label="笔记" class="mobile-dropdown-title"><span class="title">笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/notes-coding/" class="nav-link router-link-active">
  代码
</a></li><li class="dropdown-item"><!----> <a href="/notes-painting/" class="nav-link">
  绘画
</a></li><li class="dropdown-item"><!----> <a href="/notes-others/" class="nav-link">
  其他
</a></li></ul></div></div><div class="nav-item"><a href="/dailylife/" class="nav-link">
  生活
</a></div><div class="nav-item"><a href="/markbook/" class="nav-link">
  收藏
</a></div><div class="nav-item"><a href="/todolist.html" class="nav-link">
  今日
</a></div><div class="nav-item"><a href="/about.html" class="nav-link">
  关于
</a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/notes-coding/" aria-current="page" class="sidebar-link">代码学习、项目总结笔记放置</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Vue基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes-coding/start-with-vue.html" class="sidebar-link">Vue.js2.5入门</a></li><li><a href="/notes-coding/3hours-vue2x.html" class="sidebar-link">3小时速成Vue2.x核心技术</a></li><li><a href="/notes-coding/vue-webpack-todolist.html" class="sidebar-link">Vue+Webpack打造todo应用</a></li><li><a href="/notes-coding/vuex.html" aria-current="page" class="active sidebar-link">Vuex入门</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/notes-coding/vuex.html#什么是vuex" class="sidebar-link">什么是vuex</a></li><li class="sidebar-sub-header"><a href="/notes-coding/vuex.html#应用场景" class="sidebar-link">应用场景</a></li><li class="sidebar-sub-header"><a href="/notes-coding/vuex.html#组成介绍" class="sidebar-link">组成介绍</a></li><li class="sidebar-sub-header"><a href="/notes-coding/vuex.html#安装" class="sidebar-link">安装</a></li><li class="sidebar-sub-header"><a href="/notes-coding/vuex.html#实现count" class="sidebar-link">实现count++</a></li></ul></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Vue项目</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Javascript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Github</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/notes-coding/interview01.html" class="sidebar-link">前端知识（基础）</a></li><li><a href="/notes-coding/interview02.html" class="sidebar-link">前端知识（进阶）</a></li><li><a href="/notes-coding/English-for-Developers.html" class="sidebar-link">程序员常用英语词汇</a></li><li><a href="/notes-coding/blog-notes.html" class="sidebar-link">博客笔记</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="vuex入门"><a href="#vuex入门" class="header-anchor">#</a> Vuex入门</h1> <h2 id="什么是vuex"><a href="#什么是vuex" class="header-anchor">#</a> 什么是vuex</h2> <p>vuex是一个专门为vue.js应用程序开的状态管理模式
它采用集中式存储管理应用的所有组件的状态
并以相应的规则保证以一种可预测的方式发生变化
总结：vuex 就是类似于全局对象存储的所有组件里面的状态，并且是个响应式的状态</p> <h2 id="应用场景"><a href="#应用场景" class="header-anchor">#</a> 应用场景</h2> <p>1、多个视图依赖于同一状态
2、来自不同视图的行为需要改变同一状态
总结：
a)  不同的组件都依赖于同一个数据状态，实现了多个组件数据共享的作用（读）（如用户登陆）
b)  在不同的组建中，需要一些操作来改变数据状态（改）（如购买会员）
c)  比较适合中、大型的前端单页面项目，不适用小的</p> <h2 id="组成介绍"><a href="#组成介绍" class="header-anchor">#</a> 组成介绍</h2> <p>State --数据仓库，所有的数据都存储于state中，数据唯一源（存储vue所有状态数据），属于 json 对象<br>
getter --用来获取数据的，相当于vue的computed<br>
Mutation -- 用来修改数据的，本质相当于一个function。数据一定要写成同步的<br>
Action --用来提交mutation数据，可以异步提交</p> <h2 id="安装"><a href="#安装" class="header-anchor">#</a> 安装</h2> <p>安装vuex
安装vuex包：npm install vuex
创建vuex实例：new Vuex.store()</p> <p>main.js中将vuex实例挂载到vue对象上</p> <p>vuex是vue的一个重要知识点
要先安装 vue-cli （脚手架）才可以</p> <p>vue create vuex-demo</p> <p>code . 命令用不了，好像需要vscode，安装一个吧，以后开发用得上
感谢：mac vscode 下载安装与配置 https://www.jianshu.com/p/90d83f81b78a
然后，感谢 mac vscode -bash: code: command not found https://blog.csdn.net/qq_27848323/article/details/105739272
安装了这个命令之后，可以通过 code . 打开了。</p> <p>我可以在本地起服务了！Woooooooooooooo~
cd进入可以起服务的项目文件夹，然后运行 npm run serve</p> <p>在chrome用vue tool调试，我已经安装了</p> <p>另起一个在该文件夹位置的终端窗口，输入 npm add vuex</p> <p>很多错误都是不起眼的错误，注意拼写和大小写T_Ts</p> <h2 id="实现count"><a href="#实现count" class="header-anchor">#</a> 实现count++</h2> <p>实现count++，demo基本思路</p> <ol><li>state 中创建 count 字段</li> <li>mutation 中创建一个 count++ 的 mutation</li> <li>button 新增 click 事件触发，触发 mutation ，改变 count</li></ol> <p>注释组件时，报错了，原来是——引用组件不使用就会报错<br> <a href="https://www.imooc.com/qadetail/335252" target="_blank" rel="noopener noreferrer">https://www.imooc.com/qadetail/335252<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><br>
解决：<br>
是 eslint 代码检查到你注册了组件但没有使用，然后就报错了。你可以在package.json文件中<br>
eslintConfig 字段下的 rules 添加规则 &quot;vue/no-unused-components&quot;: &quot;off&quot; 就可以解决这个问题</p> <p>看到的问答，一知半解，呜呜呜呜呜：
问题：
为什么在组件中我们获取vuex中的实例的count值时，还需要用this,在veiw模板中直接填值，不是直接就行了；
老师解答：
第一种，如果是你是直接获取vuex store实例，首先Vue.use(Vuex)就已经吧 store类的实例挂载到 最外层Vue实例上了，所以需要this.$store就能沿着作用域链获取 store类的实例
第二种，如果借助 vuex的 mapstate等辅助函数方式，结果是把 store里面的数据以computed,或者methods呈现，此时的 this.count 实际是指向的computed放回的值
第三种， 如果你是用moudel形式直接引入store类的实例，就不需要this, 方式
import store from ''/src/store.js
script中 可以直接 store.state.count 获取count的值</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/notes-coding/vue-webpack-todolist.html" class="prev">
        Vue+Webpack打造todo应用
      </a></span> <span class="next"><a href="/notes-coding/vue-wheretogo-app.html">
        Vue.js 开发去哪儿网App
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.5e3b11e6.js" defer></script><script src="/assets/js/2.43ab06a8.js" defer></script><script src="/assets/js/31.e8668f66.js" defer></script>
  </body>
</html>
